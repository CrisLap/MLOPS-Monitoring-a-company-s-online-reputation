version: "3.8"

services:
  training:
    build:
      context: .
      dockerfile: docker/Dockerfile.training
    container_name: sentiment-training
    environment:
      - MLFLOW_TRACKING_URI
    volumes:
      - ./models:/app/models
    ports:
      - "8000:8000"
    # By default the image runs `python training/train.py`; override if needed
    command: ["python", "training/train.py"]
    restart: "no"

volumes:
  models:
    driver: local
